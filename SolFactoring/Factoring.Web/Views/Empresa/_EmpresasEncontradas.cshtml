@model IEnumerable<Factoring.Web.Funcionalidades.ListarEmpresa.ListarEmpresaViewModel>

<div class="container">
    <table class="table">
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.NuEmpresa)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.NuRuc)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.TxRazonSocial)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.TxDireccion)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.NoDepartamento)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.NoProvincia)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.NoDistrito)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.TxRubro)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.CoUser)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.CoUserModif)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.FeModif)
            </th>
            <th></th>
        </tr>

        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.NuEmpresa)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.NuRuc)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.TxRazonSocial)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.TxDireccion)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.NoDepartamento)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.NoProvincia)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.NoDistrito)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.TxRubro)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.CoUser)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.CoUserModif)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.FeModif)
                </td>
                <td>
                    <div class="btn-group">
                        <button class="btn dropdown-toggle btn-xs"
                                data-toggle="dropdown">
                            <span>
                                <i class="glyphicon glyphicon-cog"></i>
                                <span class="caret"></span>
                            </span>
                        </button>
                        <ul class="dropdown-menu">
                            <li>
                                @Ajax.ActionLink(" ", "Editar", "Empresa"
                   , new { NuEmpresa = item.NuEmpresa}
                   , new AjaxOptions
                   {
                       HttpMethod = "Get",
                       InsertionMode = InsertionMode.Replace,
                       UpdateTargetId = "ResultadoEmpresas"
                   }
                   ,
                   new
                   {
                       @class = "glyphicon glyphicon-eye-open",
                       data_toggle = "modal",
                       data_target = "#EmpresaEditForm"
                   }
                   )
                            </li>

                            <li>
                                @*@Html.ActionLink(" ", "Delete", new { id = item.Id }, new { @class = "glyphicon glyphicon-trash" })*@
                                @Ajax.ActionLink(" ", "Eliminar", "Empresa"
                   , new { NuEmpresa = item.NuEmpresa }
                   , new AjaxOptions
                   {
                       HttpMethod = "Get",
                       InsertionMode = InsertionMode.Replace,
                       UpdateTargetId = "ResultadoEmpresas"
                   }
                   ,
                   new
                   {
                       @class = "glyphicon glyphicon-trash",
                       data_toggle = "modal",
                       data_target = "#EmpresaDeleteForm"
                   }
                   )
                            </li>

                            <li>
                                @Ajax.ActionLink(" ", "ListarDetalle", "Empresa"
                   , new { filtroNuEmpresa = item.NuEmpresa}
                   , new AjaxOptions
                   {
                       HttpMethod = "Get",
                       InsertionMode = InsertionMode.Replace,
                       UpdateTargetId = "ResultadoEmpresas"
                   }
                   ,
                   new
                   {
                       @class = "glyphicon glyphicon-th-list",
                       data_toggle = "modal",
                       data_target = "#ListaFacturasxEmpresaForm"
                   }
                   )
                            </li>
                        </ul>
                    </div>
                    |
                </td>
            </tr>
        }

    </table>
</div>

<div id="EmpresaEditForm"
     class="modal fade"
     tabindex="-1"
     role="dialog"
     aria-labelledby="EditarPersonalabel"
     aria-hidden="true">
</div>
<div id="EmpresaDeleteForm"
     class="modal fade"
     tabindex="-1"
     role="dialog"
     aria-labelledby="EditarPersonalabel"
     aria-hidden="true">
</div>
<div id="ListaFacturasxEmpresaForm"
     class="modal fade"
     tabindex="-1"
     role="dialog"
     aria-labelledby="EditarPersonalabel"
     aria-hidden="true">
</div>
@section Scripts{
    @Scripts.Render("~/bundles/unobtrusiveajax")
}